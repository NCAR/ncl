#
#      $Id: yMakefile,v 1.124 2010-02-07 00:05:20 haley Exp $
#
#########################################################################
#                                                                       #
#                          Copyright (C)  1997                          #
#            University Corporation for Atmospheric Research            #
#                          All Rights Reserved                          #
#                                                                       #
#########################################################################
#
#       File:           yMakefile
#
#       Author:         Mary Haley
#                               National Center for Atmospheric Research
#                               POB 3000, Boulder, Colorado
#
#       $Date: 2010-02-07 00:05:20 $
#
#       Description:    

MYNAME          =       libnfp

EXTRA_INCLUDES  = -I../../ncl
EXTRA_CDEFINES  = $(UDUNITS_DEFS) $(V5D_DEFS)

HDRS = wrapper.h

#ifdef BuildUdunits
UDUNITS_DEFS = -DBuildUdunits
UDUNITS_SRCS = udunitsW.c utCalendar2_cal.c
UDUNITS_OBJS = udunitsW.o utCalendar2_cal.o
#else
#define UDUNITS_SRCS
#define UDUNITS_OBJS
#endif

# ifdef BuildV5D
V5D_DEFS = -DBuildV5D
V5D_SRCS = ncl2v5dW.c
V5D_OBJS = ncl2v5dW.o
# else
# define    V5D_SRCS
# define    V5D_OBJS
# endif

CSRCS = areavolW.c betaincW.c bytesW.c calcorcW.c cancorW.c cdf_dpW.c chiinvW.c         \
        conformW.c csagridW.c cssgridW.c ctwrapW.c cz2ccmW.c datesW.c                   \
        drwvctc.c dsgridW.c dtrendW.c echoW.c eofW.c erfW.c extaperW.c ezfftW.c         \
        finitediffW.c filterxW.c fitgridW.c fluxEddyW.c fourinfoW.c gausW.c             \
        gtripleW.c hydroW.c hyi2hyoW.c indW.c int2pW.c invmatrixW.c                     \
        julGregW.c linint2W.c linmsgW.c linroodW.c locminmaxW.c mapgciW.c               \
        mixhumW.c natgridW.c ncolorW.c nglogoW.c ngmiscW.c nicevalsW.c                  \
        omcalc_ccmW.c outputgif.c paleoW.c prcwatW.c preshybW.c pressigW.c probtestW.c  \
        randomW.c rcmW.c regcoefW.c relhumW.c remapW.c rhombtriW.c                      \
        shgridW.c simpsonW.c sindexW.c slpW.c skewtW.c smth9W.c sortW.c                 \
        specxW.c sph2W.c sphintW.c sstoiW.c statW.c svdW.c taperW.c                     \
        tdpackW.c tempnamW.c trvsphW.c varimaxW.c vibetaW.c waveletW.c                  \
        wgneW.c wmapW.c writematrixW.c wrunaveW.c wrapper.c utilW.c wrfW.c              \
        vinth2pW.c vinth2peW.c vintp2peW.c zonmpsiW.c z2geouvW.c stdatmusW.c ripW.c     \
        lspolyW.c wgtvertbetaW.c dimavgwgtW.c studentW.c fft2dW.c                       \
        sg_toolsW.c colconvW.c convert_datum.c cfftW.c wksmoothW.c dzheightW.c          \
	covcormW.c kronprodW.c space_timeW.c spcorrW.c  bindataW.c tropwmoW.c pdfW.c    \
	mocloopsW.c spanW.c vinth2pnodesW.c vinth2penodesW.c objanalW.c

COBJS = areavolW.o betaincW.o bytesW.o calcorcW.o cancorW.o cdf_dpW.o chiinvW.o         \
        conformW.o csagridW.o cssgridW.o ctwrapW.o cz2ccmW.o datesW.o                   \
        drwvctc.o dsgridW.o dtrendW.o echoW.o eofW.o erfW.o extaperW.o ezfftW.o         \
        finitediffW.o filterxW.o fitgridW.o fluxEddyW.o fourinfoW.o gausW.o             \
        gtripleW.o hydroW.o hyi2hyoW.o indW.o int2pW.o invmatrixW.o                     \
        julGregW.o linint2W.o linmsgW.o linroodW.o locminmaxW.o mapgciW.o               \
        mixhumW.o natgridW.o ncolorW.o nglogoW.o ngmiscW.o nicevalsW.o                  \
        omcalc_ccmW.o outputgif.o paleoW.o prcwatW.o preshybW.o pressigW.o probtestW.o  \
        randomW.o rcmW.o regcoefW.o relhumW.o remapW.o rhombtriW.o                      \
        shgridW.o simpsonW.o sindexW.o slpW.o skewtW.o smth9W.o sortW.o                 \
        specxW.o sph2W.o sphintW.o sstoiW.o statW.o svdW.o taperW.o                     \
        tdpackW.o tempnamW.o trvsphW.o varimaxW.o vibetaW.o waveletW.o                  \
        wgneW.o wmapW.o writematrixW.o wrunaveW.o wrapper.o utilW.o wrfW.o              \
        vinth2pW.o vinth2peW.o vintp2peW.o zonmpsiW.o z2geouvW.o stdatmusW.o ripW.o     \
        lspolyW.o wgtvertbetaW.o dimavgwgtW.o studentW.o fft2dW.o poissonW.o            \
        sg_toolsW.o colconvW.o convert_datum.o cfftW.o wksmoothW.o dzheightW.o          \
	covcormW.o kronprodW.o space_timeW.o spcorrW.o bindataW.o tropwmoW.o pdfW.o     \
	mocloopsW.o spanW.o vinth2pnodesW.o vinth2penodesW.o objanalW.o \
	areaconremapW.o

OBJS = $(COBJS) $(UDUNITS_OBJS) $(V5D_OBJS)

BuildSharedLibTarget(libNGnfp,$(OBJS),1,0,$(NCARGLIB) $(NCARGGKSLIB) $(NCARGCLIB) $(CTOFLIBS) -lm -lc)
LibraryTarget($(MYNAME),$(OBJS))
BuildIncludes($(HDRS),ncarg/nfp,../..)
DependTarget($(CSRCS))

#if defined(Linux)
wrfW.o: wrfW.c
        $(CC) $(CCOPTIONS) $(ALLDEFINES) -g -c wrfW.c
#endif
